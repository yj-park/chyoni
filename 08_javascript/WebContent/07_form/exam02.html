<!-- 
	form이 submit되는 시점에 호출
	onsubmit = "return false" -> submit 취소
	onsubmit = "return false이외의 상태". 즉,false만 아니면! -> submit 실행
	
	접근 방법
	document.mForm.id
 -->

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="../00_common/validUtil.js"></script>
</head>
<body>
	<form name="mForm" action="result.html" onsubmit="return doAction();">
		id : <input type="text" name="id"/><br>
		pass : <input type="password" name="password"/><br>
		pass 확인 : <input type="password" name="password2"/><br>
		<button>전송</button>
		<button type="button" onclick="doAction2();">버튼</button>

		<!-- button type="button" onclick="doAction();">버튼</button> -->

		<!-- 버튼 default는 submit
			onsubmit -> form이 submit되는 시점에 호출해
			onclick
			onload
			onmouse[over/move/up] 
		-->
	</form>
	
	<script>
		function doAction() {
			
			var f = document.mForm;
			// document.mForm도 객체니까 계속 반복되고 문장이 길어지는 경우 이렇게 변수에 담아서 쓸 수 있어!
			
			if (isEmpty(f.id, "아이디를 입력하세요")) 
				return false;
		
			if (isEmpty(f.password, "패스워드를 입력하세요"))
				return false;
			
			if (isEmpty(f.password2, "패스워드를 다시 확인하세요"))
				return false;
			
			if (f.password.value != f.password2.value) {
				alert("입력된 패스워드를 확인하세요");
				f.password.focus(); // password 입력창에 커서 옮기기
				f.password.select(); // 입력된 값을 선택한 상태로 만들어주기
				return false;
			}
			return true;
		}
		
		function doAction2() {
			
			var f = document.mForm;
			// document.mForm도 객체니까 계속 반복되고 문장이 길어지는 경우 이렇게 변수에 담아서 쓸 수 있어!
			
			if (isEmpty(f.id, "아이디를 입력하세요")) 
				return ;
		
			if (isEmpty(f.password, "패스워드를 입력하세요"))
				return ;
			
			if (isEmpty(f.password2, "패스워드를 다시 확인하세요"))
				return ;
			
			if (f.password.value != f.password2.value) {
				alert("입력된 패스워드를 확인하세요");
				f.password.focus(); // password 입력창에 커서 옮기기
				f.password.select(); // 입력된 값을 선택한 상태로 만들어주기
				return ;
			}
			
			// 버튼을 이용한 체크일 경우에는 직접 submit에 대한 호출
			// form 하나 당 submit 하나가 표준이야!
			f.submit();
		}
	</script>
</body>
</html>